<%- include("../../partials/calificacionIndicador/menucalificacion"); %>

    <div id="listas">

        <div class="min-w-0 p-4 bg-white rounded-lg shadow-xs dark:bg-gray-800">

            <div>

                <span class="text-gray-700 dark:text-gray-400">
                    Seleccione el campo a mostrar:
                </span>
                <span>

                    <select name="select_campo" id="select_campo" data-toggle="" title="Seleccionar a침o"
                        data-placement="right" requiredclass="" style="border: gray 1px solid;">
                        <option selected="selected" value="plan">Seleccionar Campo</option>
                        <option value="plan_general">Plan General</option>
                        <option value="linea_accion">Linea de Acci칩n</option>
                        <option value="objetivo">Objetivo</option>
                        <option value="estrategia">Estrategia</option>
                        <option value="plan">Plan de Acci칩n</option>
 
                    </select>
                </span>



            </div>
        </div>
        <div class="w-full overflow-x-auto" id="list-semaforizacion-campo">
            <h1>Registros Semaforizaci칩n Planes <button onclick="ExportToExcel('xlsx','','','table-semaforizacion-campo')"><i class="fas fa-file-excel"
                    style="color: green;"><small> Export.xlsx </small></i></button> </h1>

            <small>Se encontraron <%= lista_semaforizacion.length %> registro(s) con el filtro: <strong style="text-transform:uppercase">&nbsp; <%= campo %></strong> </small>

            <div class="w-full overflow-hidden rounded-lg shadow-xs">



                <hr class="py-2" />


                <table class="w-full whitespace-no-wrap" id="table-semaforizacion-campo">


                    <thead class="">

                        <tr class="text-center text-xs font-semibold tracking-wide text-left text-gray-500 uppercase border-b dark:border-gray-700 bg-gray-50 dark:text-gray-400 dark:bg-gray-800">
                            <th>#</th>
                            <th id="columna" style="color: darkblue;">
                                <%= campo  %>
                            </th>
                            <th>Vigencia</th>
                            <th>Enero</th>
                            <th>Febrero</th>
                            <th>Marzo</th>
                            <th>Abril</th>
                            <th>Mayo</th>
                            <th>Junio</th>
                            <th>Julio</th>
                            <th>Agosto</th>
                            <th>Septiembre</th>
                            <th>Octubre</th>
                            <th>Noiviembre</th>
                            <th>Diciembre</th>
                            <th>resultado</th>

                        </tr>
                    </thead>

                    <tbody class="bg-white divide-y dark:divide-gray-700 dark:bg-gray-800">

                        <% for(var i=0; i<lista_semaforizacion.length; i++) { %>

                            <tr class="text-gray-700 dark:text-gray-400">
                                <td class="px-4 py-3 text-sm">
                                    <%= i+1 %>

                                </td>

                                <td class="px-4 py-3 text-sm">
                                    <%= lista_semaforizacion[i].columna %>
                                </td>

                                <td class="px-4 py-3 text-sm">
                                    <%= lista_semaforizacion[i].vigencia %>
                                </td>

                                <td class="px-4 py-3 text-sm">
                                    <%= lista_semaforizacion[i].enero %>
                                </td>
                                <td class="px-4 py-3 text-sm">
                                    <%= lista_semaforizacion[i].febrero %>
                                </td>
                                <td class="px-4 py-3 text-sm">
                                    <%= lista_semaforizacion[i].marzo %>
                                </td>
                                <td class="px-4 py-3 text-sm">
                                    <%= lista_semaforizacion[i].abril %>
                                </td>
                                <td class="px-4 py-3 text-sm">
                                    <%= lista_semaforizacion[i].mayo %>
                                </td>
                                <td class="px-4 py-3 text-sm">
                                    <%= lista_semaforizacion[i].junio %>
                                </td>
                                <td class="px-4 py-3 text-sm">
                                    <%= lista_semaforizacion[i].julio %>
                                </td>
                                <td class="px-4 py-3 text-sm">
                                    <%= lista_semaforizacion[i].agosto %>
                                </td>
                                <td class="px-4 py-3 text-sm">
                                    <%= lista_semaforizacion[i].septiembre %>
                                </td>
                                <td class="px-4 py-3 text-sm">
                                    <%= lista_semaforizacion[i].octubre %>
                                </td>
                                <td class="px-4 py-3 text-sm">
                                    <%= lista_semaforizacion[i].noviembre %>
                                </td>
                                <td class="px-4 py-3 text-sm">
                                    <%= lista_semaforizacion[i].diciembre %>
                                </td>
                                <td class="px-4 py-3 text-sm">
                                    <%= lista_semaforizacion[i].resultado %>
                                </td>






                            </tr>
                            <% }%>
                    </tbody>
                    <tfoot>

                    </tfoot>
                </table>

            </div>
            <%- include("../../partials/pagination"); %>
        </div>

    </div>



    <script>
        getPagination('#table-semaforizacion-campo');
        $("#select_campo").change(function() {

            var combo = document.getElementById("select_campo");
            var selected = combo.options[combo.selectedIndex].value;
            var selected_text = combo.options[combo.selectedIndex].text;

            var peticion = "/ctm-lista-semaforizacion-planes/" + selected + "/?txt='" + selected_text + "'";

            $("#table-semaforizacion-campo").html("");
            loadContentHtml(peticion, '#container-tab');


        });
    </script>